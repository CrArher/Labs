#include <stdio.h>
#include <math.h>
#include <stdlib.h>

#pragma warning(disable : 4996)

void func(int n, double *maArray);

int main()
{
    double* maArray;
    int n;
    printf("Size of array=");
    scanf("%d", &n);

    maArray = malloc(n * sizeof(double));

    for (int i = 0;i < n; i++)
    {
        printf("maArray[%d]=", i);
        scanf("%lf", &maArray[i]);
    }

    func(n,&maArray[0]);

    return 0;
}

void func(int n, double *maArray) 
{
    // Task  1

    printf("\nTask(1)\n");

    double max = abs(maArray[0]);

    for (int i = 0;i < n;i++)
    {
        if (abs(maArray[i]) > abs(max))
        {
            max = abs(maArray[i]);
        }
    }


    printf("Maximum array element module = %lf\n", max);

    // Task  2

    printf("\nTask(2)");

    int i1, i2;
    int counter = 0;
    double sum = 0;

    for (int i = 0; i < n;i++)
    {
        if (maArray[i] > 0)
        {
            counter++;
            if (counter == 1) i1 = i;
            if (counter == 2) i2 = i;
        };
    }

    printf("\ni1 = %d\ti2 = %d\n", i1, i2);



    for (int i4 = i1; i4 < i2; i4++)
    {
        sum += maArray[i4];
    }

    printf("Summ positive elements [%d;%d] = %lf\n", i1, i2, sum - maArray[i1]);

    // Task  3

    printf("\nTask(3)\n");

    int zerocount = 0;

    for (int i = 0;i < n;i++)
    {
        if (maArray[i] != 0)
        {
            maArray[i - zerocount] = maArray[i];
        }
        else
        {
            zerocount++;
        }
    }

    for (int i = n - zerocount; i < n;i++)
    {
        maArray[i] = 0;
    }

    for (int i = 0; i < n;i++)
    {
        printf("%lf\t", maArray[i]);
    }

    printf("\n");

    // Task  4

    printf("\nTask(4)\n");

    int mark_2 = 0;

    for (int i = 0; i < n;i++)
    {
        if (maArray[i] == 2) mark_2++;
    }

    printf("%d students are not admitted to the second exam\n", mark_2);

    printf("%d bytes allocated to the array\n", sizeof(maArray));

    free(maArray);

    // A(1)

    char * pchar;
    short * pshort;
    int* pint;
    long* plong;
    float* pfloat;
    double* pdouble;
    long double *pld;

    printf("\n Size of char: %d\t Size of p(char): %d\n", sizeof(char), sizeof(pchar));
    printf("\n Size of short: %d\t Size of p(short): %d\n", sizeof(short), sizeof(pshort));
    printf("\n Size of int: %d\t\t Size of p(int): %d\n", sizeof(int), sizeof(pint));
    printf("\n Size of long: %d\t Size of p(long): %d\n", sizeof(long), sizeof(plong));
    printf("\n Size of float: %d\t Size of p(float): %d\n", sizeof(float), sizeof(pfloat));
    printf("\n Size of double: %d\t Size of p(double): %d\n", sizeof(double), sizeof(pdouble));
    printf("\n Size of long double: %d\t Size of p(long double): %d\n", sizeof(long double), sizeof(pld));

}
