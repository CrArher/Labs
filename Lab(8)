#include <stdio.h>
#include <math.h>
#include <stdlib.h>

#pragma warning(disable : 4996)

int main()
{
    double* maArray;
    int n;
    printf("Array size=");
    scanf("%d", &n);

    maArray = malloc(n * sizeof(double));

    for (int i = 0;i < n; i++)
    {
        printf("maArray[%d]=", i);
        scanf("%lf", &maArray[i]);
    }

    // Task 1

    printf("\nTask(1)\n");

    double max = abs(maArray[0]);

    for (int i = 0;i < n;i++)
    {
        if (abs(maArray[i]) > max)
        {
            max = abs(maArray[i]);
        }
    }


    printf("Maximum array element module = %lf\n", max);

    // Task 2

    printf("\nTask(2)");

    int i1, i2;
    int counter = 0;
    double sum = 0;

    for (int i = 0; i < n;i++)
    {
        if (maArray[i] > 0)
        {
            counter++;
            if (counter == 1) index1 = i;
            if (counter == 2) index2 = i;
        };
    }

    printf("\nIndex1 = %d\tIndex2 = %d\n", i1, i2);



    for (int i4 = i1; i4 < i2; i4++)
    {
        sum += maArray[i4];
    }

    printf("Sum positive elements [%d;%d] = %lf\n", i1, i2, sum - maArray[index1]);

    // Task 3

    printf("\nTask(3)\n");

    int zerocount = 0;

    for (int i = 0;i < n;i++)
    {
        if (maArray[i] != 0)
        {
            maArray[i - zerocount] = maArray[i];
        }
        else
        {
            zerocount++;
        }
    }

    for (int i = n - zerocount; i < n;i++)
    {
        maArray[i] = 0;
    }

    for (int i = 0; i < n;i++)
    {
        printf("%lf\t", maArray[i]);
    }

    printf("\n");

    // Task 4

    printf("\nTask(4)\n");

    int mark_2 = 0;

    for (int i = 0; i < n;i++)
    {
        if (maArray[i] == 2) mark_2++;
    }

    printf("%d students are not admitted to the second exam\n", mark_2);

    printf("%d bytes allocated to the array\n", sizeof(maArray));

    free(maArray);

    return 0;
}
